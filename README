2009/04/10 - Notes on getting memagent & mcp setup and running...

- Some directories...

  mkdir ~/include ~/lib

- Download ejabberd and install it.

- You'll need the twistd and the scons build tool.  On osx...

  sudo port install scons
  sudo port install py26-twisted    # Assuming you have python 2.6.

- Download and compile libstrophe...

  git clone git://github.com/dustin/libstrophe.git
  cd libstrophe
  git submodule init
  git submodule update
  scons

- To run ejabberd, for example...

  /Applications/ejabberd-2.0.5/bin/ejabberdctl start

- To see if ejabberd is running...

  /Applications/ejabberd-2.0.5/bin/ejabberdctl status

- You'll need a XMPP chat client, like Adium or Psi.
  Tip: for example, if you're already using Adium daily,
  it's recommended to get Psi for this dev work,
  so you don't mess up your Adium.

- If your dev box is called 'mymachine'...

- Setup users on ejabberd...

  ejabberdctl register customer mymachine.local password
  ejabberdctl register mcp mymachine.local password

- Start Psi, and add customer@mymachine.local and
  mcp@mymachine.local as users.

  Menu: File->Account Setup
  Click: Add
    Enter:
      Name: customer
      Click Add
    Enter:
      Jabber ID: customer@mymachine.local
      Password: password
      Save Add
    Repeat to add the mcp / mcp@mymachine.local.

- Using Psi, and make customer@mymachine.local a friend
  of mcp@mymachine.local, and vice versa.

  Right click on the customer user.
  Add a contact
  Jabber ID: mcp@mymachine.local

- Download mcp and configure it...

  git clone git@github.com:northscale/mcp.git
  cd mcp
  cp mcp.conf.sample mcp.conf

  - Use your favorite editor to edit mcp.conf and change the jid to...

    mcp@mymachine.local/bot

  - Start mcp...

    twistd -ny mcp.tac

- Download, compile the memagent test bot...

  git clone git@githumb.com:/northscale/memagent.git
  cd memagent/c
  make

- Run the memagent test bot...

  cd memagent/c
  ./bot customer@mymachinenmb.local password localhost

- If you're successful, you'll see something like...

  Hey.  I received a new list of server lists.
	List:  ``customer1-b'' (bound to 11212)
		server2:11211
		server3:11211
	List:  ``customer1-a'' (bound to 11211)
		server1:11211
		server2:11211
